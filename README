# Plugin Actions Safety Feature

**Plugin Actions Safety Feature** is a WordPress plugin that enhances plugin management safety and accountability on live WordPress sites. It introduces a warning modal for plugin activation/deactivation, logs these actions in a database, and supports exporting this log to CSV. Ideal for managing "mission-critical" plugins.

## Features

- **Warning Modal**: Prevents accidental activation/deactivation with a confirmation modal.
- **Action Logging**: Records plugin activations/deactivations in a database.
- **CSV Export**: Export the log of plugin actions to a CSV file.
- **Critical Plugin Protection**: Disables deactivation links for specified essential plugins.
- **Extensibility**: Offers hooks to modify modal timeout and critical plugin list.

## Installation

1. **Upload Plugin**: Upload to `/wp-content/mu-plugins/` or install via WordPress plugins screen.
2. **Activate Plugin**: Through the 'Plugins' screen in WordPress.
3. **Configure Critical Plugins**: Adjust `$critical_plugins` in `da_disable_deactivation` for your essential plugins.
4. **(Optional) Configure Modal Delay**: Alter `countdown` in `da_plugin_actions_speedbump` for modal delay (default: 10 seconds).

## Usage

- Works upon activation. Critical plugin deactivation links are disabled.
- Confirmation modal appears for any plugin activation/deactivation.
- View the plugin actions log under 'Plugins' in the dashboard.
- Export the log using the 'Export to CSV' button on the Plugin Action Log page.

## Extending

### Adjust Modal Timeout

add_filter('dawp_modal_timeout', function($timeout) {
    return 15000; // New timeout in milliseconds
});

### Adjust Log Pagination

add_filter('dawp_log_pagination_count', function($count) {
    return 20; // New items per page count
});

### Adjust Mission Critial Plugins

function my_custom_critical_plugins($critical_plugins) {
    $critical_plugins[] = 'my-custom-plugin/my-custom-plugin.php'; // Add a plugin
    if (($key = array_search('gravityforms/gravityforms.php', $critical_plugins)) !== false) {
        unset($critical_plugins[$key]); // Remove a plugin
    }
    return $critical_plugins;
}
add_filter('da_mission_critical_plugins', 'my_custom_critical_plugins');```

Development
Developer: Danny Albeck
Website: Albeck Consulting
Version: 1.1.0
License
GPL v2 or later.

Contributions
Contributions following WordPress coding standards are welcome.
